<div style="max-width: 800px; margin: 0 auto; padding: 16px;">
      <mat-card style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <mat-card-header style="padding: 16px 16px 8px 16px;">
          <mat-card-title style="font-size: 20px; font-weight: bold; color: #333; margin-bottom: 4px;">Currency Converter</mat-card-title>
          <mat-card-subtitle style="color: #666; font-size: 14px;">Convert between different currencies with real-time exchange rates</mat-card-subtitle>
        </mat-card-header>
    
        <mat-card-content style="padding: 16px;">
          <form [formGroup]="conversionForm" (ngSubmit)="convertCurrency()" style="display: flex; flex-direction: column; gap: 20px;">
            <!-- Amount Input -->
            <mat-form-field appearance="outline" style="width: 100%;">
              <mat-label>Amount</mat-label>
              <input 
                matInput 
                type="number" 
                formControlName="amount" 
                placeholder="Enter amount"
                style="font-size: 16px;"
              />
              <mat-error *ngIf="conversionForm.get('amount')?.hasError('required')">
                Amount is required
              </mat-error>
              <mat-error *ngIf="conversionForm.get('amount')?.hasError('min')">
                Amount must be greater than 0
              </mat-error>
            </mat-form-field>

            <!-- Currency Selection Row -->
            <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
              <!-- From Currency -->
              <mat-form-field appearance="outline" style="flex: 1; min-width: 200px;">
                <mat-label>From Currency</mat-label>
                <mat-select formControlName="fromCurrency" [disabled]="isLoadingCurrencies">
                  <mat-option *ngFor="let currency of currencies" [value]="currency.code">
                    {{ currency.code }} - {{ currency.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="conversionForm.get('fromCurrency')?.hasError('required')">
                  From currency is required
                </mat-error>
              </mat-form-field>

              <!-- Swap Button -->
              <button 
                type="button" 
                mat-icon-button 
                (click)="swapCurrencies()"
                style="color: #1976d2; flex-shrink: 0;"
                [disabled]="isLoading"
              >
                <mat-icon>swap_horiz</mat-icon>
              </button>

              <!-- To Currency -->
              <mat-form-field appearance="outline" style="flex: 1; min-width: 200px;">
                <mat-label>To Currency</mat-label>
                <mat-select formControlName="toCurrency" [disabled]="isLoadingCurrencies">
                  <mat-option *ngFor="let currency of currencies" [value]="currency.code">
                    {{ currency.code }} - {{ currency.name }}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="conversionForm.get('toCurrency')?.hasError('required')">
                  To currency is required
                </mat-error>
              </mat-form-field>
            </div>

            <!-- Convert Button -->
            <div style="display: flex; justify-content: center;">
              <button 
                mat-raised-button 
                color="primary" 
                type="submit"
                [disabled]="conversionForm.invalid || isLoading || isLoadingCurrencies"
                style="padding: 12px 24px; font-size: 16px; width: 100%; max-width: 200px;"
              >
                <mat-spinner *ngIf="isLoading" diameter="20" style="margin-right: 8px;"></mat-spinner>
                {{ isLoading ? 'Converting...' : 'Convert' }}
              </button>
            </div>
          </form>

          <!-- Conversion Result -->
          <div *ngIf="conversionResult" style="margin-top: 24px; padding: 16px; background-color: #f0f9ff; border: 1px solid #0ea5e9; border-radius: 8px;">
            <h3 style="font-size: 16px; font-weight: 600; color: #0c4a6e; margin-bottom: 12px;">Conversion Result</h3>
            <div class="conversion-result-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
              <div class="conversion-result-item" style="text-align: center; padding: 8px;">
                <div style="font-size: 18px; font-weight: bold; color: #333; margin-bottom: 4px;">
                  {{ conversionResult.fromAmount | number:'1.2-2' }} {{ conversionResult.fromCurrency }}
                </div>
                <div style="font-size: 12px; color: #666;">Original Amount</div>
              </div>
              <div class="conversion-result-item" style="text-align: center; padding: 8px;">
                <div style="font-size: 18px; font-weight: bold; color: #059669; margin-bottom: 4px;">
                  {{ conversionResult.toAmount | number:'1.2-2' }} {{ conversionResult.toCurrency }}
                </div>
                <div style="font-size: 12px; color: #666;">Converted Amount</div>
              </div>
            </div>
            <div style="text-align: center; padding: 8px; background-color: rgba(255,255,255,0.5); border-radius: 4px;">
              <div style="font-size: 13px; color: #666; margin-bottom: 4px;">
                Exchange Rate: 1 {{ conversionResult.fromCurrency }} = {{ conversionResult.exchangeRate | number:'1.4-4' }} {{ conversionResult.toCurrency }}
              </div>
              <div style="font-size: 11px; color: #999;">
                Converted on {{ conversionResult.conversionDate | date:'short' }}
              </div>
            </div>
          </div>
    </mat-card-content>
  </mat-card>
</div>