<div style="max-width: 1200px; margin: 0 auto; padding: 16px;">
      <mat-card style="box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <mat-card-header style="padding: 16px 16px 8px 16px;">
          <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; flex-wrap: wrap; gap: 12px;">
            <div>
              <mat-card-title style="font-size: 20px; font-weight: bold; color: #333; margin-bottom: 4px;">Conversion History</mat-card-title>
              <mat-card-subtitle style="color: #666; font-size: 14px;">View your past currency conversions</mat-card-subtitle>
            </div>
            <button 
              mat-icon-button 
              (click)="refreshHistory()"
              [disabled]="isLoading"
              style="color: #1976d2; flex-shrink: 0;"
            >
              <mat-icon>refresh</mat-icon>
            </button>
          </div>
        </mat-card-header>
    
        <mat-card-content style="padding: 16px;">
          <div *ngIf="isLoading" style="display: flex; justify-content: center; padding: 24px 0;">
            <mat-spinner></mat-spinner>
          </div>

          <div *ngIf="!isLoading && conversionHistory.length === 0" style="text-align: center; padding: 24px 0;">
            <mat-icon style="font-size: 48px; color: #ccc; margin-bottom: 12px;">history</mat-icon>
            <h3 style="font-size: 16px; font-weight: 500; color: #666; margin-bottom: 8px;">No conversion history found</h3>
            <p style="color: #999; font-size: 14px;">Start converting currencies to see your history here.</p>
          </div>

          <div *ngIf="!isLoading && conversionHistory.length > 0" style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
            <table mat-table [dataSource]="conversionHistory" style="width: 100%; min-width: 600px;">
              <!-- Date Column -->
              <ng-container matColumnDef="conversionDate">
                <th mat-header-cell *matHeaderCellDef style="text-align: left; font-weight: 600; font-size: 12px; padding: 8px 4px;">Date & Time</th>
                <td mat-cell *matCellDef="let element" style="font-size: 12px; color: #666; padding: 8px 4px;">
                  {{ formatDate(element.conversionDate) }}
                </td>
              </ng-container>

              <!-- From Amount Column -->
              <ng-container matColumnDef="fromAmount">
                <th mat-header-cell *matHeaderCellDef style="text-align: right; font-weight: 600; font-size: 12px; padding: 8px 4px;">From Amount</th>
                <td mat-cell *matCellDef="let element" style="text-align: right; font-weight: 500; font-size: 12px; padding: 8px 4px;">
                  {{ formatAmount(element.fromAmount) }} {{ element.fromCurrency }}
                </td>
              </ng-container>

              <!-- From Currency Column -->
              <ng-container matColumnDef="fromCurrency">
                <th mat-header-cell *matHeaderCellDef style="text-align: center; font-weight: 600; font-size: 12px; padding: 8px 4px;">From</th>
                <td mat-cell *matCellDef="let element" style="text-align: center; padding: 8px 4px;">
                  <span style="padding: 2px 6px; background-color: #e3f2fd; color: #1976d2; border-radius: 3px; font-size: 10px; font-weight: 500;">
                    {{ element.fromCurrency }}
                  </span>
                </td>
              </ng-container>

              <!-- To Amount Column -->
              <ng-container matColumnDef="toAmount">
                <th mat-header-cell *matHeaderCellDef style="text-align: right; font-weight: 600; font-size: 12px; padding: 8px 4px;">To Amount</th>
                <td mat-cell *matCellDef="let element" style="text-align: right; font-weight: 500; color: #059669; font-size: 12px; padding: 8px 4px;">
                  {{ formatAmount(element.toAmount) }} {{ element.toCurrency }}
                </td>
              </ng-container>

              <!-- To Currency Column -->
              <ng-container matColumnDef="toCurrency">
                <th mat-header-cell *matHeaderCellDef style="text-align: center; font-weight: 600; font-size: 12px; padding: 8px 4px;">To</th>
                <td mat-cell *matCellDef="let element" style="text-align: center; padding: 8px 4px;">
                  <span style="padding: 2px 6px; background-color: #e8f5e8; color: #059669; border-radius: 3px; font-size: 10px; font-weight: 500;">
                    {{ element.toCurrency }}
                  </span>
                </td>
              </ng-container>

              <!-- Exchange Rate Column -->
              <ng-container matColumnDef="exchangeRate">
                <th mat-header-cell *matHeaderCellDef style="text-align: right; font-weight: 600; font-size: 12px; padding: 8px 4px;">Rate</th>
                <td mat-cell *matCellDef="let element" style="text-align: right; font-size: 11px; color: #666; padding: 8px 4px;">
                  1 {{ element.fromCurrency }} = {{ formatExchangeRate(element.exchangeRate) }} {{ element.toCurrency }}
                </td>
              </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns" style="background-color: #f5f5f5;"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
              style="border-bottom: 1px solid #e0e0e0;"></tr>
        </table>
      </div>
    </mat-card-content>
  </mat-card>
</div>